###############################################
#                                             #
#                MOBILE VIEW                  #
#                                             #
###############################################

title: Mobile
id: mobile
icon: mdi:cellphone-iphone
panel: true
path: mobile
cards:

  - type: custom:layout-card
    layout: vertical
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:decluttering-card
            template: tracking_picture_button
            variables:
              - entity: device_tracker.life360_greg
              - entity_picture_away: /local/images/Greg-Away.jpg
              - entity_picture_home: /local/images/Greg-Home.jpg
          - type: custom:decluttering-card
            template: tracking_picture_button
            variables:
              - entity: device_tracker.life360_jenny
              - entity_picture_away: /local/images/Jenny-Away.jpg
              - entity_picture_home: /local/images/Jenny-Home.jpg
          - type: custom:decluttering-card
            template: tracking_picture_button
            variables:
              - entity: device_tracker.life360_lynne
              - entity_picture_away: /local/images/Lynne-Away.png
              - entity_picture_home: /local/images/Lynne-Home.png
          - type: custom:decluttering-card
            template: tracking_picture_button
            variables:
              - entity: device_tracker.life360_sally
              - entity_picture_away: /local/images/Sally-Away.png
              - entity_picture_home: /local/images/Sally-Home.png

      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: light.all_outside_lights
            template: homekit-button
            # icon: mdi:outdoor-lamp
          - type: "custom:button-card"
            entity: light.nursery_lamp
            template: homekit-button
          - type: "custom:button-card"
            entity: light.sonoff_1000371477
            template: homekit-button
            state:
              - value: 'on'
                color: auto 
            tap_action:
              action: more-info
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: light.lounge_light
            template: homekit-button
          - type: "custom:button-card"
            entity: light.lounge_lamp
            template: homekit-button
          - type: "custom:button-card"
            entity: light.tv_led
            template: homekit-button
            state:
              - value: 'on'
                color: auto 
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: light.dining_room_light
            template: homekit-button
          - type: "custom:button-card"
            entity: light.desk_lamp
            template: homekit-button
          - type: "custom:button-card"
            entity: light.dining_room_led
            template: homekit-button
            state:
              - value: 'on'
                color: auto 
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: light.lounge_led
            template: homekit-button
            state:
              - value: 'on'
                color: auto 
          - type: custom:button-card
            color_type: blank-card
          - type: custom:button-card
            color_type: blank-card

      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: binary_sensor.driveway_gate
            template: homekit-button
            icon: mdi:gate
            state:
              - value: 'on'
                color: Red
          - type: "custom:button-card"
            entity: binary_sensor.pool_gate
            template: homekit-button
            icon: mdi:gate
            state:
              - value: 'on'
                color: Red
          - type: custom:button-card
            entity: switch.pool_pump
            template: homekit-button
            state:
              - value: 'on'
                color: CornflowerBlue
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: binary_sensor.front_door
            template: homekit-button
            icon: mdi:door-closed
            state:
              - value: 'on'
                color: Red
                icon: mdi:door-open
          - type: "custom:button-card"
            entity: binary_sensor.kitchen_door
            template: homekit-button
            icon: mdi:door-closed
            state:
              - value: 'on'
                color: Red
                icon: mdi:door-open
          - type: "custom:button-card"
            entity: binary_sensor.bedroom_french_door
            template: homekit-button
            icon: mdi:door-closed
            state:
              - value: 'on'
                color: Red
                icon: mdi:door-open
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            entity: switch.nursery_heater
            template: homekit-button
            state:
              - value: 'on'
                color: Orange
          - type: "custom:button-card"
            entity: switch.flat_bedroom_heater
            name: Flat Heater
            template: homekit-button
            state:
              - value: 'on'
                color: Orange
          - type: custom:button-card
            color_type: blank-card



      - break




      - type: custom:weather-card
        entity: weather.dark_sky
        # icons: "/local/custom-lovelace/weather-card/icons/"          
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: sensor.city_power_load_shedding_stage
            name: Load Shedding
            # template: homekit-button
            aspect_ratio: 4/1
            show_state: true
            layout: icon_name_state2nd
            state:
              - value: 'NOT LOAD SHEDDING'
                color: green
              - value: 'STAGE 1'
                color: yellow
                icon: mdi:power-plug-off 
              - value: 'STAGE 2'
                color: purple 
                icon: mdi:power-plug-off 
              - value: 'STAGE 3'
                color: red 
                icon: mdi:power-plug-off 
              - value: 'STAGE 4'
                color: black 
                icon: mdi:power-plug-off 

      - break

      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            entities: 
              - sensor.outside_temperature
            show:
              extrema: true
              icon_adaptive_color: true
              graph: bar
            points_per_hour: 2
            color_thresholds:
              - value: -50
                color: "#FFFFFF"
              - value: 0
                color: "#1E90FF"
              - value: 18
                color: "#008000"
              - value: 28
                color: "#FFFF00"
              - value: 31
                color: "#FF8C00"
              - value: 35
                color: "#FF0000"

          - type: custom:mini-graph-card
            entities: 
              - sensor.pool_temperature
            show:
              extrema: true
              icon_adaptive_color: true
              graph: bar
            points_per_hour: 2
            color_thresholds:
              - value: -50
                color: "#FFFFFF"
              - value: 0
                color: "#1E90FF"
              - value: 28
                color: "#008000"
              - value: 32
                color: "#FF8C00"
              - value: 100
                color: "#FF0000"

      - break

      - type: "custom:atomic-calendar"
        title: "Upcoming Events"
        titleSize: 110
        dateSize: 80
        timeSize: 80
        locationTextSize: 80
        entities:           
        - entity: calendar.greg_personal_gmail
          color: dodgerblue
        - entity: calendar.wrench_jenny_gmail_com
          color: darkorange
        - entity: calendar.sarah_personal
          color: pink
        - entity: calendar.holidays_in_south_africa
          color: green
        - entity: calendar.meal_plan
          color: MediumOrchid
        - entity: calendar.family
          color: HotPink
        locationIconColor: rgb(230, 124, 115)
        timeColor: silver
        showProgressBar: false